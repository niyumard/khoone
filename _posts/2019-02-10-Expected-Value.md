---
layout: post
title:  "Expected Value"
date:   2019-02-10
categories: expected_value math statistics امید_ریاضی آمار میانگین average
---

# امید ریاضی

در باب اینکه امید ریاضی چی هست زیاد گفته شده و من هیچ وقت به درک عمیق از این مفهوم مهم نرسیدم و همچنان در حال تلاشم. اما دوست دارم که نتایجی که تا الان بهشون رسیدم رو باهاتون درمیان بذارم.

# امید ریاضی: مقدمه 
امید ریاضی در اصل میانگین وزنی است. به این صورت که هر متغیر آماری ضرب در احتمالش میشه. پس احتمال هر یک از برآمدها وزن اون برآمده.
چون خیلی انتزاعی شد سعی میکنم به صورت خیلی ساده همه‌ی این‌ها رو توضیح بدم. اول از آزمایش تصادفی شروع می‌کنیم:
آزمایش تصادفی یک رونده که میتونه بیشمار بار انجام بشه؛ در انتهای انجام روند، آزمایش تصادفی به ما یک نتیجه میده؛ ما نتیجه‌های مختلف آزمایش تصادفی رو می‌دونیم و اسم این نتیجه‌های مختلف رو برآمد می‌ذاریم. آزمایش تصادفی ویژگی مهمش اینه که ما تا انجامش ندیم نمی‌تونیم بگیم کدوم یکی از نتیجه‌ها/برآمدها رخ میده؛ مثل اکثر امور زندگی و جامعه.
پیش‌آمد (event) با برآمد (outcome) هم معنا نیست؛ پیش‌آمد یک مجموعه متشکل از برآمدهاست. برآمد یک عضو از مجموعه‌ی تمام نتیجه‌های ممکن برای یک آزمایشه.
متغیر تصادفی هم نماینده‌ی عددی برآمدهاست. یعنی هر برآمد یا نتیجه‌ی آزمایش رو به یک عدد نسبت می‌دیم؛ توی مثال‌ این‌ها براتون روشن‌تر میشه.

![ Probability distribution of rolling two dice ](https://upload.wikimedia.org/wikipedia/commons/b/bb/Randomvariable_as_a_function-fa.png)
# مثال:‌ آزمایش تصادفی، تفاوت پیش‌آمد و برآمد
اول باید یک روند پیدا کنیم که نتیجه‌اش معلوم نیست و میشه بی‌شمار بار تکرارش کرد؛ چه چیزی بهتر از پرتاب یک سکه؟
پرتاب یک سکه میتونه چه نتیجه‌هایی داشته باشه؟ شیر یا خط! این دوتا برآمدهای این آزمایش تصادفی‌ان و این آزمایش (اگر آینه اومدن رو در نظر نگیریم) هیچ حالت ممکن دیگه‌ای نداره پس برآمدهاش محدود به همین دوتان. چه پیش‌آمدهایی میشه برای این آزمایش در نظر گرفت؟ شیر، خط، شیر و خط!! پیش‌آمد شیر اومدن احتمالش نیمه، پیش‌آمد خط اومدن هم همینطور اما پیش‌آمد شیر و خط احتمالش صفره؛ چرا؟ چون ممکن نیست که ما سکه رو پرت کنیم و نتیجه هم شیر باشه هم خط!
برای اینکه مبحث روشن‌تر شه آزمایش تصادفی انداختن همزمان دو سکه‌ی آبی و قرمز رو انتخاب می‌کنیم در این حالت برآمدها این‌هان:  هر دو شیر بیان، سکه‌ی آبی شیر بیاد سکه‌ی قرمز خط، سکه‌ی آبی خط بیاد سکه‌ی قرمز شیر یا اینکه هر دو خط بیان! حالا من سر این شرط می‌بندم که سکه‌ی آبی شیر میاد. در این حالت من روی پیش‌آمد {هردو شیر، سکه‌ی آبی شیر و سکه‌ی قرمز خط} شرط بستم.

# امید ریاضی: کاربرد در بازی‌ها
حالا میرسیم به مبحث شیرین متغیرتصادفی.
فرض کنیم که یک نفر به ما یک بازی پیشنهاد می‌کنه: یک سکه پرت می‌کنیم، اگر شیر اومد شما یک هزارتومن پول میگیرید اگر خط اومد باید هزارتومن بدید.
آیا بازی‌کردن یک بازی با این مشخصات عاقلانست؟
برای اینکار کافیه بتونیم متغیر‌های تصادفی رو به طور معنادار تعیین کنیم.
متغیر تصادفی برآمد/نتیجه‌ی آزمایش رو به یک عدد مرتبط می‌کنه. ما در اینجا به این صورت تعیین می‌کنیم: برای شیر اومدن ۱۰۰۰ در نظر میگیریم و برای خط اومدن -۱۰۰۰:


| برآمد        | متغیر X           | احتمال X  |
| ------------- |:-------------:| -----:|
| شیر آمدن      | ۰/۵ | +۱۰۰۰ |
| خط آمدن      | ۰/۵      |   -۱۰۰۰ |

امید ریاضی در این حالت برابره با ۱۰۰۰ در نیم به علاوه‌ی -۱۰۰۰ در نیم که میشه صفر.
این یعنی چی؟ در اینجا امید ریاضی برابر با صفر به این معناست اگر این بازی رو تعداد دفعات زیادی انجام بدیم نه سودی برامون داره نه ضرری.
حالا اگر بازی به نحوی باشه که مثلاً هر دفعه بازی یک کارمزد ۲۰۰ تومنی داشته باشه امید ریاضی به این صورت میشه:

| برآمد        | متغیر X           | احتمال X  |
| ------------- |:-------------:| -----:|
| شیر آمدن      | ۰/۵ | +۸۰۰ |
| خط آمدن      | ۰/۵      |   -۱۲۰۰ |

این بار امید ریاضی برابره با منفی ۲۰۰ یعنی به طور متوسط در هر بار بازی کردن ۲۰۰ تومن می‌بازیم؛ اگر بازی رو برای مثال ۱۰۰ بار انجام بدیم درنهایت تقریباً باید ۲۰۰۰ تومن پول از جیبمون بذاریم! دفعه‌ی قبل به طور متوسط با بازی کردن نه چیزی به دست می‌اوردیم نه چیزی از دست می‌دادیم.
این کاربرد امید ریاضی که الان بررسی کردیم برای بازی‌هایی مثل [پوکر](https://www.cardschat.com/poker-odds-expected-value.php) هم استفاده میشه!

# امید ریاضی به مثابه‌ی الاکلنگ
امید ریاضی رو یا به عبارتی میانگین رو، میشه با یک مفهوم فیزیکی نشون داد: مرکز ثقل.
این فقط یک مفهوم شهودیه و خیلی کاربرد ریاضی نداره.
اگر یک الاکلنگ رو تصور کنیم که اجسام در انتهاش ثابت شدن برای اینکه الاکلنگ متوازن بمونه باید نصف نیرو به یک سمت الاکلنگ وارد شه و نصف دیگه‌ی نیرو به سمت دیگه. حالا که اجسام ثابت شدن فقط میشه تکیه‌گاه رو جابه‌جا کرد و تکیه‌گاه چیزی نیست جز همون میانگین یا در اینجا که وزن اجسام در دو سر الاکلنگ با هم متفاوته: امید ریاضی.

# امید ریاضی: پایتون
تصویر زیر مربوط به انداختن دوتا تاسه. من برنامه رو برای انداختن K بار تاس نوشتم و توی [گیت‌هابم](https://gist.github.com/niyumard/6b4d5352532365e2381485d44d37035e) گذاشتم. اگر مثل عکس زیر با تنظیم انداختن دوتا تاس انداختن اجراش کنید به نتیجه‌ی زیر میرسید:

![ Probability distribution of rolling two dice ](https://ia801509.us.archive.org/0/items/Probability_distribution_of_rolling_two_dice/Screenshot_20190210_202756.png)

![ Probability distribution of rolling two dice ](https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Roll2dice.svg/579px-Roll2dice.svg.png)


